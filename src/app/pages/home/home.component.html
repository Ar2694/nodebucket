<!--
  /*
============================================
; Title: home.component.html
; Author: Professor Krasso
; Date: 29 March 2021
; Modified By: Arlix Sorto
; Description: Week 4
;===========================================
*/
-->
<div fxLayout="column" class="main-welcome">

  <!--Title-->
  <div fxFlex>
    <h1 class="title">
      Welcome to WEB 450's - nodebucket Project <br />
      <span class="subtitle">
        Pay close attention to the requirements, double and triple check the files for code attribution, and do not wait
        unitl the last minute to begin working on each item.
      </span>
    </h1>
  </div>
  <!-- Create task-->
  <div fxFlex>

    <div fxLayout="column" class="task-container createTask-container">
      <button mat-raised-button color="primary" (click)="openCreateTaskDialog()"> Create Task</button>
    </div>

  </div>
<br />
  <!--Task Columns-->
  <div fxFlex>
    <div fxLayout="row" fxLayoutGap="15px" class="task-container">
      <!--Todo-->
      <div fxFlex>
        <!--Start mat card-->
        <mat-card>
          <mat-card-title>To do</mat-card-title>
          <!--Start of mat card content-->
          <mat-card-content>

            <!--Start of column layout-->
            <div fxLayout="column" fxLayoutGap="10px" class="task-list" cdkDropList #todoList="cdkDropList"
              [cdkDropListData]="todo" [cdkDropListConnectedTo]="[doneList,inProgressList]" (cdkDropListDropped)="drop($event)">

            <!--ngFor loop item container-->
              <div *ngFor="let item of todo" cdkDrag>
                <mat-card class="mat-elevation-z0 task-card">
                  <mat-card-content>
                    <div fxLayout="row">
                      <div fxFlex>
                        {{item.text}}
                      </div>

                      <div fxFlex fxLayoutAlign="end">
                        <button [matMenuTriggerFor]="todoOptions" class="" mat-icon-button>
                          <mat-icon>more_horiz</mat-icon>
                        </button>

                        <mat-menu #todoOptions="matMenu" x-position="before">
                          <button (click)="deleteTask(item._id)" mat-menu-item>Remove</button>
  
                          <button (click)="openEditTaskDialog(item._id)" mat-menu-item>Edit</button>
                        </mat-menu>
                    
                      </div>
                    </div>
                  </mat-card-content>
                </mat-card>
              </div>
              <!-- End of ngFor loop item container-->
            </div>
            <!-- End of column layout-->
          </mat-card-content>
          <!-- end of mat card content-->
        </mat-card>
        <!--End of mat card-->
      </div>
      <!-- end of todo fxFlex -->

<!--In Progress container-->
<div fxFlex>
<!-- Start mat card-->
  <mat-card>
    <mat-card-title>In Progress</mat-card-title>
    <!--Start mat content-->
    <mat-card-content>
          <!--Start of column layout-->
      <div fxLayout="column" fxLayoutGap="10px" class="task-list" cdkDropList #inProgressList="cdkDropList"
        [cdkDropListData]="inProgress" [cdkDropListConnectedTo]="[todoList,doneList]" (cdkDropListDropped)="drop($event)">

        <!--ngFor loop item container-->
        <div *ngFor="let item of inProgress" cdkDrag>
          <mat-card class="mat-elevation-z0 task-card">
            <mat-card-content>
              <div fxLayout="row">
                <div fxFlex>
                  {{item.text}}
                </div>
                <!--end done item-->
                <div fxFlex fxLayoutAlign="end">
                  <button [matMenuTriggerFor]="todoOptions" class="" mat-icon-button>
                    <mat-icon>more_horiz</mat-icon>
                  </button>

                  <mat-menu #todoOptions="matMenu" x-position="before">
                    <button (click)="deleteTask(item._id)" mat-menu-item>Remove</button>
                    <button (click)="openEditTaskDialog(item._id)" mat-menu-item>Edit</button>
                  </mat-menu>
                  <!--end mat menu-->
                </div>
                <!--end done option menu-->
              </div>
              <!--end fxLayout row-->
            </mat-card-content>

            <!--end mat card content-->
          </mat-card>
          <!--end mat card-->
        </div>
        <!-- End of ngFor for done item-->
      </div>
          <!--End of column layout-->
    </mat-card-content>
    <!--End of mat card content-->
  </mat-card>
  <!--End of mat card-->
</div>
<!--End of In Progress container-->
      <!--Done container-->
      <div fxFlex>
        <mat-card>
          <mat-card-title>Done</mat-card-title>
          <!--Start mat content-->
          <mat-card-content>
            <!--Start of column layout-->
            <div fxLayout="column" fxLayoutGap="10px" class="task-list" cdkDropList #doneList="cdkDropList"
              [cdkDropListData]="done" [cdkDropListConnectedTo]="[todoList,inProgressList]" (cdkDropListDropped)="drop($event)">
             <!--ngFor loop item container-->
              <div *ngFor="let item of done" cdkDrag>
                <mat-card class="mat-elevation-z0 task-card">
                  <mat-card-content>
                    <div fxLayout="row">
                      <div fxFlex>
                        {{item.text}}
                      </div>
                      <!--end done item-->
                      <div fxFlex fxLayoutAlign="end">
                        <button [matMenuTriggerFor]="todoOptions" class="" mat-icon-button>
                          <mat-icon>more_horiz</mat-icon>
                        </button>

                        
                        <mat-menu #todoOptions="matMenu" x-position="before">
                          <button (click)="deleteTask(item._id)" mat-menu-item>Remove</button>
                          <button (click)="openEditTaskDialog(item._id)" mat-menu-item>Edit</button>
                        </mat-menu>
                        <!--end mat menu-->
                      </div>
                      <!--end done option menu-->
                    </div>
                    <!--end fxLayout row-->
                  </mat-card-content>

                  <!--end mat card content-->
                </mat-card>
                <!--end mat card-->
              </div>
              <!-- End of ngFor for done item-->
            </div>
            <!--End of column layout-->
          </mat-card-content>
          <!--End of mat card content-->  
        </mat-card>
      </div>
      <!-- end of done fxFlex -->

    </div>


    <!-- end of row container -->
  </div>
  <!--end of fxFlex-->



</div>
<!-- end of the main container-->